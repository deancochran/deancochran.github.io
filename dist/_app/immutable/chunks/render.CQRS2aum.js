import{g as O,Q as m,y as b,R as H,C as I,S as v,c,s as A,a as S,f,z as V,T as Y,U as k,v as C,j as M,V as W,e as $,W as j,h as p,k as z,X as F,F as Q}from"./runtime.fPXvfd0O.js";import{a as U,r as D,h,i as X}from"./utils.DJI9E5b1.js";import{a as q}from"./disclose-version.BffXv8gN.js";let w=!0;function P(t){w=t}function Z(t,e){e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e==null?"":e+"")}function B(t,e){const n=e.anchor??e.target.appendChild(O());return L(t,{...e,anchor:n})}function x(t,e){m(),e.intro=e.intro??!1;const n=e.target,_=p,u=f;try{for(var r=b(n);r&&(r.nodeType!==8||r.data!==H);)r=I(r);if(!r)throw v;c(!0),A(r),S();const d=L(t,{...e,anchor:r});if(f===null||f.nodeType!==8||f.data!==V)throw Y(),v;return c(!1),d}catch(d){if(d===v)return e.recover===!1&&k(),m(),C(n),c(!1),B(t,e);throw d}finally{c(_),A(u)}}const o=new Map;function L(t,{target:e,anchor:n,props:_={},events:u,context:r,intro:d=!0}){m();var g=new Set,y=a=>{for(var i=0;i<a.length;i++){var s=a[i];if(!g.has(s)){g.add(s);var T=X(s);e.addEventListener(s,h,{passive:T});var E=o.get(s);E===void 0?(document.addEventListener(s,h,{passive:T}),o.set(s,1)):o.set(s,E+1)}}};y(M(U)),D.add(y);var l=void 0,N=W(()=>($(()=>{if(r){j({});var a=Q;a.c=r}u&&(_.$$events=u),p&&q(n,null),w=d,l=t(n,_)||{},w=!0,p&&(z.nodes_end=f),r&&F()}),()=>{for(var a of g){e.removeEventListener(a,h);var i=o.get(a);--i===0?(document.removeEventListener(a,h),o.delete(a)):o.set(a,i)}D.delete(y),R.delete(l)}));return R.set(l,N),l}let R=new WeakMap;function ee(t){const e=R.get(t);e&&e()}export{P as a,w as b,x as h,B as m,Z as s,ee as u};
