var na=Object.defineProperty;var ra=(t,e,n)=>e in t?na(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fn=(t,e,n)=>ra(t,typeof e!="symbol"?e+"":e,n);import{b as zn,t as cr}from"../chunks/disclose-version.BffXv8gN.js";import{U as lr,N as aa,P as sa,b as ia,c as dr,H as oa,p as fr,i as pr,d as $t,e as En,g as ut,w as he,f as ua,r as sn,h as ca}from"../chunks/entry.nGrDgQi8.js";import{aI as la,ay as mn,W as da,as as fa,X as pa,ar as It,_ as je,Y as Ie,$ as Un,O as Ct,Z as ma}from"../chunks/runtime.fPXvfd0O.js";import{p as ct,n as Bn}from"../chunks/stores.CRB7ynG2.js";import{a as Lt}from"../chunks/index-client.ADoA0Ptw.js";import"../chunks/index.CzR0xuCU.js";import{s as on}from"../chunks/render.CQRS2aum.js";import{e as ha,i as ya}from"../chunks/each.D_s4sJSd.js";import{b as qn}from"../chunks/attributes.fnHc94m4.js";import{g as ga}from"../chunks/utils.DJI9E5b1.js";import{i as va}from"../chunks/lifecycle.MEWedBzr.js";import{p as _a}from"../chunks/props.CkO4EFEm.js";function ba(t){return function(...e){var n=e[0];return n.preventDefault(),t.apply(this,e)}}class un extends Error{constructor(e,n){super(e),this.name="DevalueError",this.path=n.join("")}}function Wn(t){return Object(t)!==t}const wa=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xa(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===wa}function ka(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ta(t){switch(t){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t<" "?`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function Qe(t){let e="",n=0;const r=t.length;for(let a=0;a<r;a+=1){const s=t[a],i=Ta(s);i&&(e+=t.slice(n,a)+i,n=a+1)}return`"${n===0?t:e+t.slice(n)}"`}function Sa(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.getOwnPropertyDescriptor(t,e).enumerable)}function Oa(t,e){const n=[],r=new Map,a=[];for(const c in e)a.push({key:c,fn:e[c]});const s=[];let i=0;function o(c){if(typeof c=="function")throw new un("Cannot stringify a function",s);if(r.has(c))return r.get(c);if(c===void 0)return lr;if(Number.isNaN(c))return aa;if(c===1/0)return sa;if(c===-1/0)return ia;if(c===0&&1/c<0)return dr;const f=i++;r.set(c,f);for(const{key:w,fn:_}of a){const O=_(c);if(O)return n[f]=`["${w}",${o(O)}]`,f}let m="";if(Wn(c))m=cn(c);else switch(ka(c)){case"Number":case"String":case"Boolean":m=`["Object",${cn(c)}]`;break;case"BigInt":m=`["BigInt",${c}]`;break;case"Date":m=`["Date","${!isNaN(c.getDate())?c.toISOString():""}"]`;break;case"RegExp":const{source:O,flags:j}=c;m=j?`["RegExp",${Qe(O)},"${j}"]`:`["RegExp",${Qe(O)}]`;break;case"Array":m="[";for(let T=0;T<c.length;T+=1)T>0&&(m+=","),T in c?(s.push(`[${T}]`),m+=o(c[T]),s.pop()):m+=oa;m+="]";break;case"Set":m='["Set"';for(const T of c)m+=`,${o(T)}`;m+="]";break;case"Map":m='["Map"';for(const[T,D]of c)s.push(`.get(${Wn(T)?cn(T):"..."})`),m+=`,${o(T)},${o(D)}`,s.pop();m+="]";break;default:if(!xa(c))throw new un("Cannot stringify arbitrary non-POJOs",s);if(Sa(c).length>0)throw new un("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(c)===null){m='["null"';for(const T in c)s.push(`.${T}`),m+=`,${Qe(T)},${o(c[T])}`,s.pop();m+="]"}else{m="{";let T=!1;for(const D in c)T&&(m+=","),T=!0,s.push(`.${D}`),m+=`${Qe(D)}:${o(c[D])}`,s.pop();m+="}"}}return n[f]=m,f}const l=o(t);return l<0?`${l}`:`[${n.join(",")}]`}function cn(t){const e=typeof t;return e==="string"?Qe(t):t instanceof String?Qe(t.toString()):t===void 0?lr.toString():t===0&&1/t<0?dr.toString():e==="bigint"?`["BigInt","${t}"]`:String(t)}const mr=la;var Z;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of s)i[o]=a[o];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},t.find=(a,s)=>{for(const i of a)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Z||(Z={}));var hn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hn||(hn={}));const b=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ce=t=>{switch(typeof t){case"undefined":return b.undefined;case"string":return b.string;case"number":return isNaN(t)?b.nan:b.number;case"boolean":return b.boolean;case"function":return b.function;case"bigint":return b.bigint;case"symbol":return b.symbol;case"object":return Array.isArray(t)?b.array:t===null?b.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?b.promise:typeof Map<"u"&&t instanceof Map?b.map:typeof Set<"u"&&t instanceof Set?b.set:typeof Date<"u"&&t instanceof Date?b.date:b.object;default:return b.unknown}},h=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ea=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pe extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),r}static assert(e){if(!(e instanceof pe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}pe.create=t=>new pe(t);const nt=(t,e)=>{let n;switch(t.code){case h.invalid_type:t.received===b.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case h.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Z.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(t.keys,", ")}`;break;case h.invalid_union:n="Invalid input";break;case h.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(t.options)}`;break;case h.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(t.options)}, received '${t.received}'`;break;case h.invalid_arguments:n="Invalid function arguments";break;case h.invalid_return_type:n="Invalid function return type";break;case h.invalid_date:n="Invalid date";break;case h.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case h.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case h.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case h.custom:n="Invalid input";break;case h.invalid_intersection_types:n="Intersection results could not be merged";break;case h.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case h.not_finite:n="Number must be finite";break;default:n=e.defaultError,Z.assertNever(t)}return{message:n}};let hr=nt;function Aa(t){hr=t}function zt(){return hr}const Ut=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,s=[...n,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(i,{data:e,defaultError:o}).message;return{...a,path:s,message:o}},ja=[];function v(t,e){const n=zt(),r=Ut({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===nt?void 0:nt].filter(a=>!!a)});t.common.issues.push(r)}class te{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return S;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const s=await a.key,i=await a.value;r.push({key:s,value:i})}return te.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return S;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[s.value]=i.value)}return{status:e.value,value:r}}}const S=Object.freeze({status:"aborted"}),et=t=>({status:"dirty",value:t}),se=t=>({status:"valid",value:t}),yn=t=>t.status==="aborted",gn=t=>t.status==="dirty",ht=t=>t.status==="valid",yt=t=>typeof Promise<"u"&&t instanceof Promise;function Bt(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function yr(t,e,n,r,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(x||(x={}));var lt,dt;class Oe{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hn=(t,e)=>{if(ht(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new pe(t.common.issues);return this._error=n,this._error}}};function E(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{var l,c;const{message:f}=t;return i.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:o.defaultError}},description:a}}class A{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ce(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ce(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new te,ctx:{common:e.parent.common,data:e.data,parsedType:Ce(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(yt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ce(e)},s=this._parseSync({data:e,path:a.path,parent:a});return Hn(a,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ce(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await(yt(a)?a:Promise.resolve(a));return Hn(r,s)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const i=e(a),o=()=>s.addIssue({code:h.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new be({schema:this,typeName:y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Se.create(this,this._def)}nullable(){return Ve.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _e.create(this,this._def)}promise(){return at.create(this,this._def)}or(e){return bt.create([this,e],this._def)}and(e){return wt.create(this,e,this._def)}transform(e){return new be({...E(this._def),schema:this,typeName:y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ot({...E(this._def),innerType:this,defaultValue:n,typeName:y.ZodDefault})}brand(){return new An({typeName:y.ZodBranded,type:this,...E(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Et({...E(this._def),innerType:this,catchValue:n,typeName:y.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return jt.create(this,e)}readonly(){return At.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pa=/^c[^\s-]{8,}$/i,Ma=/^[0-9a-z]+$/,Na=/^[0-9A-HJKMNP-TV-Z]{26}$/,Za=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ia=/^[a-z0-9_-]{21}$/i,Ca=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ra=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Da="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ln;const $a=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,La=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Va=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Fa=new RegExp(`^${gr}$`);function vr(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function za(t){return new RegExp(`^${vr(t)}$`)}function _r(t){let e=`${gr}T${vr(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ua(t,e){return!!((e==="v4"||!e)&&$a.test(t)||(e==="v6"||!e)&&La.test(t))}class ve extends A{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==b.string){const s=this._getOrReturnCtx(e);return v(s,{code:h.invalid_type,expected:b.string,received:s.parsedType}),S}const r=new te;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),v(a,{code:h.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),v(a,{code:h.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?v(a,{code:h.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&v(a,{code:h.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ra.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"email",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ln||(ln=new RegExp(Da,"u")),ln.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"emoji",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Za.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"uuid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Ia.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"nanoid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Pa.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"cuid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Ma.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"cuid2",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Na.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"ulid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),v(a,{validation:"url",code:h.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"regex",code:h.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_r(s).test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Fa.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?za(s).test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{code:h.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Ca.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"duration",code:h.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Ua(e.data,s.version)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"ip",code:h.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Va.test(e.data)||(a=this._getOrReturnCtx(e,a),v(a,{validation:"base64",code:h.invalid_string,message:s.message}),r.dirty()):Z.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:h.invalid_string,...x.errToObj(r)})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...x.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...x.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...x.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...x.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...x.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...x.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...x.errToObj(n)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ve.create=t=>{var e;return new ve({checks:[],typeName:y.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};function Ba(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}class De extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==b.number){const s=this._getOrReturnCtx(e);return v(s,{code:h.invalid_type,expected:b.number,received:s.parsedType}),S}let r;const a=new te;for(const s of this._def.checks)s.kind==="int"?Z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),v(r,{code:h.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Ba(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),v(r,{code:h.not_finite,message:s.message}),a.dirty()):Z.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,a){return new De({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(a)}]})}_addCheck(e){return new De({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}De.create=t=>new De({checks:[],typeName:y.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class $e extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==b.bigint){const s=this._getOrReturnCtx(e);return v(s,{code:h.invalid_type,expected:b.bigint,received:s.parsedType}),S}let r;const a=new te;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),v(r,{code:h.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Z.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,a){return new $e({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(a)}]})}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$e.create=t=>{var e;return new $e({checks:[],typeName:y.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};class gt extends A{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==b.boolean){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.boolean,received:r.parsedType}),S}return se(e.data)}}gt.create=t=>new gt({typeName:y.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class qe extends A{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==b.date){const s=this._getOrReturnCtx(e);return v(s,{code:h.invalid_type,expected:b.date,received:s.parsedType}),S}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return v(s,{code:h.invalid_date}),S}const r=new te;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),v(a,{code:h.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),v(a,{code:h.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Z.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qe({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}qe.create=t=>new qe({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:y.ZodDate,...E(t)});class qt extends A{_parse(e){if(this._getType(e)!==b.symbol){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.symbol,received:r.parsedType}),S}return se(e.data)}}qt.create=t=>new qt({typeName:y.ZodSymbol,...E(t)});class vt extends A{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.undefined,received:r.parsedType}),S}return se(e.data)}}vt.create=t=>new vt({typeName:y.ZodUndefined,...E(t)});class _t extends A{_parse(e){if(this._getType(e)!==b.null){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.null,received:r.parsedType}),S}return se(e.data)}}_t.create=t=>new _t({typeName:y.ZodNull,...E(t)});class rt extends A{constructor(){super(...arguments),this._any=!0}_parse(e){return se(e.data)}}rt.create=t=>new rt({typeName:y.ZodAny,...E(t)});class Be extends A{constructor(){super(...arguments),this._unknown=!0}_parse(e){return se(e.data)}}Be.create=t=>new Be({typeName:y.ZodUnknown,...E(t)});class Me extends A{_parse(e){const n=this._getOrReturnCtx(e);return v(n,{code:h.invalid_type,expected:b.never,received:n.parsedType}),S}}Me.create=t=>new Me({typeName:y.ZodNever,...E(t)});class Wt extends A{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.void,received:r.parsedType}),S}return se(e.data)}}Wt.create=t=>new Wt({typeName:y.ZodVoid,...E(t)});class _e extends A{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==b.array)return v(n,{code:h.invalid_type,expected:b.array,received:n.parsedType}),S;if(a.exactLength!==null){const i=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(i||o)&&(v(n,{code:i?h.too_big:h.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(v(n,{code:h.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(v(n,{code:h.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>a.type._parseAsync(new Oe(n,i,n.path,o)))).then(i=>te.mergeArray(r,i));const s=[...n.data].map((i,o)=>a.type._parseSync(new Oe(n,i,n.path,o)));return te.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new _e({...this._def,minLength:{value:e,message:x.toString(n)}})}max(e,n){return new _e({...this._def,maxLength:{value:e,message:x.toString(n)}})}length(e,n){return new _e({...this._def,exactLength:{value:e,message:x.toString(n)}})}nonempty(e){return this.min(1,e)}}_e.create=(t,e)=>new _e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:y.ZodArray,...E(e)});function Ge(t){if(t instanceof L){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Se.create(Ge(r))}return new L({...t._def,shape:()=>e})}else return t instanceof _e?new _e({...t._def,type:Ge(t.element)}):t instanceof Se?Se.create(Ge(t.unwrap())):t instanceof Ve?Ve.create(Ge(t.unwrap())):t instanceof Ee?Ee.create(t.items.map(e=>Ge(e))):t}class L extends A{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==b.object){const c=this._getOrReturnCtx(e);return v(c,{code:h.invalid_type,expected:b.object,received:c.parsedType}),S}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Me&&this._def.unknownKeys==="strip"))for(const c in a.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const f=s[c],m=a.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Oe(a,m,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Me){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of o)l.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(c==="strict")o.length>0&&(v(a,{code:h.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of o){const m=a.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Oe(a,m,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const m=await f.key,w=await f.value;c.push({key:m,value:w,alwaysSet:f.alwaysSet})}return c}).then(c=>te.mergeObjectSync(r,c)):te.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s,i,o;const l=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=x.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:y.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const n={};return Z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new L({...this._def,shape:()=>n})}omit(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new L({...this._def,shape:()=>n})}deepPartial(){return Ge(this)}partial(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}),new L({...this._def,shape:()=>n})}required(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Se;)s=s._def.innerType;n[r]=s}}),new L({...this._def,shape:()=>n})}keyof(){return br(Z.objectKeys(this.shape))}}L.create=(t,e)=>new L({shape:()=>t,unknownKeys:"strip",catchall:Me.create(),typeName:y.ZodObject,...E(e)});L.strictCreate=(t,e)=>new L({shape:()=>t,unknownKeys:"strict",catchall:Me.create(),typeName:y.ZodObject,...E(e)});L.lazycreate=(t,e)=>new L({shape:t,unknownKeys:"strip",catchall:Me.create(),typeName:y.ZodObject,...E(e)});class bt extends A{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new pe(o.ctx.common.issues));return v(n,{code:h.invalid_union,unionErrors:i}),S}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(l=>new pe(l));return v(n,{code:h.invalid_union,unionErrors:o}),S}}get options(){return this._def.options}}bt.create=(t,e)=>new bt({options:t,typeName:y.ZodUnion,...E(e)});const Pe=t=>t instanceof kt?Pe(t.schema):t instanceof be?Pe(t.innerType()):t instanceof Tt?[t.value]:t instanceof Le?t.options:t instanceof St?Z.objectValues(t.enum):t instanceof Ot?Pe(t._def.innerType):t instanceof vt?[void 0]:t instanceof _t?[null]:t instanceof Se?[void 0,...Pe(t.unwrap())]:t instanceof Ve?[null,...Pe(t.unwrap())]:t instanceof An||t instanceof At?Pe(t.unwrap()):t instanceof Et?Pe(t._def.innerType):[];class Gt extends A{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.object)return v(n,{code:h.invalid_type,expected:b.object,received:n.parsedType}),S;const r=this.discriminator,a=n.data[r],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(v(n,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const a=new Map;for(const s of n){const i=Pe(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,s)}}return new Gt({typeName:y.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a,...E(r)})}}function vn(t,e){const n=Ce(t),r=Ce(e);if(t===e)return{valid:!0,data:t};if(n===b.object&&r===b.object){const a=Z.objectKeys(e),s=Z.objectKeys(t).filter(o=>a.indexOf(o)!==-1),i={...t,...e};for(const o of s){const l=vn(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(n===b.array&&r===b.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const i=t[s],o=e[s],l=vn(i,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===b.date&&r===b.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wt extends A{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(s,i)=>{if(yn(s)||yn(i))return S;const o=vn(s.value,i.value);return o.valid?((gn(s)||gn(i))&&n.dirty(),{status:n.value,value:o.data}):(v(r,{code:h.invalid_intersection_types}),S)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wt.create=(t,e,n)=>new wt({left:t,right:e,typeName:y.ZodIntersection,...E(n)});class Ee extends A{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.array)return v(r,{code:h.invalid_type,expected:b.array,received:r.parsedType}),S;if(r.data.length<this._def.items.length)return v(r,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&r.data.length>this._def.items.length&&(v(r,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Oe(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>te.mergeArray(n,i)):te.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Ee({...this._def,rest:e})}}Ee.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ee({items:t,typeName:y.ZodTuple,rest:null,...E(e)})};class xt extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.object)return v(r,{code:h.invalid_type,expected:b.object,received:r.parsedType}),S;const a=[],s=this._def.keyType,i=this._def.valueType;for(const o in r.data)a.push({key:s._parse(new Oe(r,o,r.path,o)),value:i._parse(new Oe(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?te.mergeObjectAsync(n,a):te.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof A?new xt({keyType:e,valueType:n,typeName:y.ZodRecord,...E(r)}):new xt({keyType:ve.create(),valueType:e,typeName:y.ZodRecord,...E(n)})}}class Ht extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.map)return v(r,{code:h.invalid_type,expected:b.map,received:r.parsedType}),S;const a=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([o,l],c)=>({key:a._parse(new Oe(r,o,r.path,[c,"key"])),value:s._parse(new Oe(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return S;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of i){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return S;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}}}}Ht.create=(t,e,n)=>new Ht({valueType:e,keyType:t,typeName:y.ZodMap,...E(n)});class We extends A{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.set)return v(r,{code:h.invalid_type,expected:b.set,received:r.parsedType}),S;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(v(r,{code:h.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(v(r,{code:h.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const c=new Set;for(const f of l){if(f.status==="aborted")return S;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new Oe(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,n){return new We({...this._def,minSize:{value:e,message:x.toString(n)}})}max(e,n){return new We({...this._def,maxSize:{value:e,message:x.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}We.create=(t,e)=>new We({valueType:t,minSize:null,maxSize:null,typeName:y.ZodSet,...E(e)});class tt extends A{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.function)return v(n,{code:h.invalid_type,expected:b.function,received:n.parsedType}),S;function r(o,l){return Ut({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zt(),nt].filter(c=>!!c),issueData:{code:h.invalid_arguments,argumentsError:l}})}function a(o,l){return Ut({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zt(),nt].filter(c=>!!c),issueData:{code:h.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof at){const o=this;return se(async function(...l){const c=new pe([]),f=await o._def.args.parseAsync(l,s).catch(_=>{throw c.addIssue(r(l,_)),c}),m=await Reflect.apply(i,this,f);return await o._def.returns._def.type.parseAsync(m,s).catch(_=>{throw c.addIssue(a(m,_)),c})})}else{const o=this;return se(function(...l){const c=o._def.args.safeParse(l,s);if(!c.success)throw new pe([r(l,c.error)]);const f=Reflect.apply(i,this,c.data),m=o._def.returns.safeParse(f,s);if(!m.success)throw new pe([a(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tt({...this._def,args:Ee.create(e).rest(Be.create())})}returns(e){return new tt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new tt({args:e||Ee.create([]).rest(Be.create()),returns:n||Be.create(),typeName:y.ZodFunction,...E(r)})}}class kt extends A{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}kt.create=(t,e)=>new kt({getter:t,typeName:y.ZodLazy,...E(e)});class Tt extends A{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return v(n,{received:n.data,code:h.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tt.create=(t,e)=>new Tt({value:t,typeName:y.ZodLiteral,...E(e)});function br(t,e){return new Le({values:t,typeName:y.ZodEnum,...E(e)})}class Le extends A{constructor(){super(...arguments),lt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return v(n,{expected:Z.joinValues(r),received:n.parsedType,code:h.invalid_type}),S}if(Bt(this,lt)||yr(this,lt,new Set(this._def.values)),!Bt(this,lt).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return v(n,{received:n.data,code:h.invalid_enum_value,options:r}),S}return se(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Le.create(e,{...this._def,...n})}exclude(e,n=this._def){return Le.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}lt=new WeakMap;Le.create=br;class St extends A{constructor(){super(...arguments),dt.set(this,void 0)}_parse(e){const n=Z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==b.string&&r.parsedType!==b.number){const a=Z.objectValues(n);return v(r,{expected:Z.joinValues(a),received:r.parsedType,code:h.invalid_type}),S}if(Bt(this,dt)||yr(this,dt,new Set(Z.getValidEnumValues(this._def.values))),!Bt(this,dt).has(e.data)){const a=Z.objectValues(n);return v(r,{received:r.data,code:h.invalid_enum_value,options:a}),S}return se(e.data)}get enum(){return this._def.values}}dt=new WeakMap;St.create=(t,e)=>new St({values:t,typeName:y.ZodNativeEnum,...E(e)});class at extends A{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==b.promise&&n.common.async===!1)return v(n,{code:h.invalid_type,expected:b.promise,received:n.parsedType}),S;const r=n.parsedType===b.promise?n.data:Promise.resolve(n.data);return se(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}at.create=(t,e)=>new at({type:t,typeName:y.ZodPromise,...E(e)});class be extends A{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:i=>{v(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return S;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?S:l.status==="dirty"||n.value==="dirty"?et(l.value):l});{if(n.value==="aborted")return S;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?S:o.status==="dirty"||n.value==="dirty"?et(o.value):o}}if(a.type==="refinement"){const i=o=>{const l=a.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?S:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?S:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ht(i))return i;const o=a.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>ht(i)?Promise.resolve(a.transform(i.value,s)).then(o=>({status:n.value,value:o})):i);Z.assertNever(a)}}be.create=(t,e,n)=>new be({schema:t,typeName:y.ZodEffects,effect:e,...E(n)});be.createWithPreprocess=(t,e,n)=>new be({schema:e,effect:{type:"preprocess",transform:t},typeName:y.ZodEffects,...E(n)});class Se extends A{_parse(e){return this._getType(e)===b.undefined?se(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Se.create=(t,e)=>new Se({innerType:t,typeName:y.ZodOptional,...E(e)});class Ve extends A{_parse(e){return this._getType(e)===b.null?se(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ve.create=(t,e)=>new Ve({innerType:t,typeName:y.ZodNullable,...E(e)});class Ot extends A{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===b.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ot.create=(t,e)=>new Ot({innerType:t,typeName:y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...E(e)});class Et extends A{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yt(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pe(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Et.create=(t,e)=>new Et({innerType:t,typeName:y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...E(e)});class Kt extends A{_parse(e){if(this._getType(e)!==b.nan){const r=this._getOrReturnCtx(e);return v(r,{code:h.invalid_type,expected:b.nan,received:r.parsedType}),S}return{status:"valid",value:e.data}}}Kt.create=t=>new Kt({typeName:y.ZodNaN,...E(t)});const qa=Symbol("zod_brand");class An extends A{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class jt extends A{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?S:s.status==="dirty"?(n.dirty(),et(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?S:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new jt({in:e,out:n,typeName:y.ZodPipeline})}}class At extends A{_parse(e){const n=this._def.innerType._parse(e),r=a=>(ht(a)&&(a.value=Object.freeze(a.value)),a);return yt(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}At.create=(t,e)=>new At({innerType:t,typeName:y.ZodReadonly,...E(e)});function wr(t,e={},n){return t?rt.create().superRefine((r,a)=>{var s,i;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(i=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...c,fatal:l})}}):rt.create()}const Wa={object:L.lazycreate};var y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(y||(y={}));const Ha=(t,e={message:`Input not instance of ${t.name}`})=>wr(n=>n instanceof t,e),xr=ve.create,kr=De.create,Ka=Kt.create,Ya=$e.create,Tr=gt.create,Ja=qe.create,Ga=qt.create,Xa=vt.create,Qa=_t.create,es=rt.create,ts=Be.create,ns=Me.create,rs=Wt.create,as=_e.create,ss=L.create,is=L.strictCreate,os=bt.create,us=Gt.create,cs=wt.create,ls=Ee.create,ds=xt.create,fs=Ht.create,ps=We.create,ms=tt.create,hs=kt.create,ys=Tt.create,gs=Le.create,vs=St.create,_s=at.create,Kn=be.create,bs=Se.create,ws=Ve.create,xs=be.createWithPreprocess,ks=jt.create,Ts=()=>xr().optional(),Ss=()=>kr().optional(),Os=()=>Tr().optional(),Es={string:t=>ve.create({...t,coerce:!0}),number:t=>De.create({...t,coerce:!0}),boolean:t=>gt.create({...t,coerce:!0}),bigint:t=>$e.create({...t,coerce:!0}),date:t=>qe.create({...t,coerce:!0})},As=S;var Yn=Object.freeze({__proto__:null,defaultErrorMap:nt,setErrorMap:Aa,getErrorMap:zt,makeIssue:Ut,EMPTY_PATH:ja,addIssueToContext:v,ParseStatus:te,INVALID:S,DIRTY:et,OK:se,isAborted:yn,isDirty:gn,isValid:ht,isAsync:yt,get util(){return Z},get objectUtil(){return hn},ZodParsedType:b,getParsedType:Ce,ZodType:A,datetimeRegex:_r,ZodString:ve,ZodNumber:De,ZodBigInt:$e,ZodBoolean:gt,ZodDate:qe,ZodSymbol:qt,ZodUndefined:vt,ZodNull:_t,ZodAny:rt,ZodUnknown:Be,ZodNever:Me,ZodVoid:Wt,ZodArray:_e,ZodObject:L,ZodUnion:bt,ZodDiscriminatedUnion:Gt,ZodIntersection:wt,ZodTuple:Ee,ZodRecord:xt,ZodMap:Ht,ZodSet:We,ZodFunction:tt,ZodLazy:kt,ZodLiteral:Tt,ZodEnum:Le,ZodNativeEnum:St,ZodPromise:at,ZodEffects:be,ZodTransformer:be,ZodOptional:Se,ZodNullable:Ve,ZodDefault:Ot,ZodCatch:Et,ZodNaN:Kt,BRAND:qa,ZodBranded:An,ZodPipeline:jt,ZodReadonly:At,custom:wr,Schema:A,ZodSchema:A,late:Wa,get ZodFirstPartyTypeKind(){return y},coerce:Es,any:es,array:as,bigint:Ya,boolean:Tr,date:Ja,discriminatedUnion:us,effect:Kn,enum:gs,function:ms,instanceof:Ha,intersection:cs,lazy:hs,literal:ys,map:fs,nan:Ka,nativeEnum:vs,never:ns,null:Qa,nullable:ws,number:kr,object:ss,oboolean:Os,onumber:Ss,optional:bs,ostring:Ts,pipeline:ks,preprocess:xs,promise:_s,record:ds,set:ps,strictObject:is,string:xr,symbol:Ga,transformer:Kn,tuple:ls,undefined:Xa,union:os,unknown:ts,void:rs,NEVER:As,ZodIssueCode:h,quotelessJson:Ea,ZodError:pe});const Sr=Yn.object({email:Yn.string().email()});function _n(t,e,n){return t[e]=n,"skip"}function js(t,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<t.length}function ke(t,e,n={}){n.modifier||(n.modifier=a=>js(e,a)?void 0:a.value);const r=we(t,e,n.modifier);if(r)return n.value===void 0||n.value(r.value)?r:void 0}function we(t,e,n){if(!e.length)return;const r=[e[0]];let a=t;for(;a&&r.length<e.length;){const i=r[r.length-1],o=n?n({parent:a,key:String(i),value:a[i],path:r.map(l=>String(l)),isLeaf:!1,set:l=>_n(a,i,l)}):a[i];if(o===void 0)return;a=o,r.push(e[r.length])}if(!a)return;const s=e[e.length-1];return{parent:a,key:String(s),value:a[s],path:e.map(i=>String(i)),isLeaf:!0,set:i=>_n(a,s,i)}}function Te(t,e,n=[]){for(const r in t){const a=t[r],s=a===null||typeof a!="object",i={parent:t,key:r,value:a,path:n.concat([r]),isLeaf:s,set:l=>_n(t,r,l)},o=e(i);if(o==="abort")return o;if(o==="skip")continue;if(!s){const l=Te(a,e,i.path);if(l==="abort")return l}}}function Ps(t,e){return t===e||t.size===e.size&&[...t].every(n=>e.has(n))}function Jn(t,e){const n=new Map;function r(i,o){return i instanceof Date&&o instanceof Date&&i.getTime()!==o.getTime()||i instanceof Set&&o instanceof Set&&!Ps(i,o)||i instanceof File&&o instanceof File&&i!==o}function a(i){return i instanceof Date||i instanceof Set||i instanceof File}function s(i,o){const l=o?we(o,i.path):void 0;function c(){return n.set(i.path.join(" "),i.path),"skip"}if(a(i.value)&&(!a(l==null?void 0:l.value)||r(i.value,l.value)))return c();i.isLeaf&&(!l||i.value!==l.value)&&c()}return Te(t,i=>s(i,e)),Te(e,i=>s(i,t)),Array.from(n.values())}function de(t,e,n){const r=typeof n=="function";for(const a of e){const s=we(t,a,({parent:i,key:o,value:l})=>((l===void 0||typeof l!="object")&&(i[o]={}),i[o]));s&&(s.parent[s.key]=r?n(a,s):n)}}function Re(t){return t.toString().split(/[[\].]+/).filter(e=>e)}function ft(t){return t.reduce((e,n)=>{const r=String(n);return typeof n=="number"||/^\d+$/.test(r)?e+=`[${r}]`:e?e+=`.${r}`:e+=r,e},"")}var Ms=pt;function pt(t){let e=t;var n={}.toString.call(t).slice(8,-1);if(n=="Set")return new Set([...t].map(a=>pt(a)));if(n=="Map")return new Map([...t].map(a=>[pt(a[0]),pt(a[1])]));if(n=="Date")return new Date(t.getTime());if(n=="RegExp")return RegExp(t.source,Ns(t));if(n=="Array"||n=="Object"){e=Array.isArray(t)?[]:{};for(var r in t)e[r]=pt(t[r])}return e}function Ns(t){if(typeof t.source.flags=="string")return t.source.flags;var e=[];return t.global&&e.push("g"),t.ignoreCase&&e.push("i"),t.multiline&&e.push("m"),t.sticky&&e.push("y"),t.unicode&&e.push("u"),e.join("")}function ae(t){return t&&typeof t=="object"?Ms(t):t}function He(t,e){if(typeof t=="boolean")throw new H("Schema property cannot be defined as boolean.",e)}const Gn=t=>{if(typeof t=="object"&&t!==null){if(typeof Object.getPrototypeOf=="function"){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}return Object.prototype.toString.call(t)==="[object Object]"}return!1},fe=(...t)=>t.reduce((e,n)=>{if(Array.isArray(n))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(n).forEach(r=>{["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=fe.options.mergeArrays?fe.options.uniqueArrayItems?Array.from(new Set(e[r].concat(n[r]))):[...e[r],...n[r]]:n[r]:Gn(e[r])&&Gn(n[r])?e[r]=fe(e[r],n[r]):e[r]=n[r]===void 0?fe.options.allowUndefinedOverrides?n[r]:e[r]:n[r])}),e},{}),bn={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};fe.options=bn;fe.withOptions=(t,...e)=>{fe.options=Object.assign(Object.assign({},bn),t);const n=fe(...e);return fe.options=bn,n};const Zs=["unix-time","bigint","any","symbol","set"];function ee(t,e,n){var l;if(He(t,n),t.allOf&&t.allOf.length)return{...fe.withOptions({allowUndefinedOverrides:!1},...t.allOf.map(c=>ee(c,!1,[]))),schema:t};const r=Or(t,n),a=t.items&&r.includes("array")?(Array.isArray(t.items)?t.items:[t.items]).filter(c=>typeof c!="boolean"):void 0,s=t.additionalProperties&&typeof t.additionalProperties=="object"&&r.includes("object")?Object.fromEntries(Object.entries(t.additionalProperties).filter(([,c])=>typeof c!="boolean")):void 0,i=t.properties&&r.includes("object")?Object.fromEntries(Object.entries(t.properties).filter(([,c])=>typeof c!="boolean")):void 0,o=(l=Is(t))==null?void 0:l.filter(c=>c.type!=="null"&&c.const!==null);return{types:r.filter(c=>c!=="null"),isOptional:e,isNullable:r.includes("null"),schema:t,union:o!=null&&o.length?o:void 0,array:a,properties:i,additionalProperties:s,required:t.required}}function Or(t,e){He(t,e);let n=t.const===null?["null"]:[];if(t.type&&(n=Array.isArray(t.type)?t.type:[t.type]),t.anyOf&&(n=t.anyOf.flatMap(r=>Or(r,e))),n.includes("array")&&t.uniqueItems){const r=n.findIndex(a=>a!="array");n[r]="set"}else if(t.format&&Zs.includes(t.format)&&(n.unshift(t.format),t.format=="unix-time")){const r=n.findIndex(a=>a=="integer");n.splice(r,1)}return t.const&&t.const!==null&&typeof t.const!="function"&&n.push(typeof t.const),Array.from(new Set(n))}function Is(t){if(!(!t.anyOf||!t.anyOf.length))return t.anyOf.filter(e=>typeof e!="boolean")}function Er(t,e=!1,n=[]){return mt(t,e,n)}function mt(t,e,n){var c;if(!t)throw new H("Schema was undefined",n);const r=ee(t,e,n);if(!r)return;let a;if("default"in t)if(r.types.includes("object")&&t.default&&typeof t.default=="object"&&!Array.isArray(t.default))a=t.default;else{if(r.types.length>1&&r.types.includes("unix-time")&&(r.types.includes("integer")||r.types.includes("number")))throw new H("Cannot resolve a default value with a union that includes a date and a number/integer.",n);const[f]=r.types;return Cs(f,t.default)}let s;const i=()=>!r.union||r.union.length<2?!1:r.union.some(f=>f.enum)?!0:(s||(s=new Set(r.types.map(f=>["integer","unix-time"].includes(f)?"number":f))),s.size>1);let o={};if(!a&&r.union){const f=r.union.filter(m=>typeof m!="boolean"&&m.default!==void 0);if(f.length==1)return mt(f[0],e,n);if(f.length>1)throw new H("Only one default value can exist in a union, or set a default value for the whole union.",n);if(r.isNullable)return null;if(r.isOptional)return;if(i())throw new H("Multi-type unions must have a default value, or exactly one of the union types must have.",n);r.union.length&&r.types[0]=="object"&&(o=r.union.length>1?fe.withOptions({allowUndefinedOverrides:!0},...r.union.map(m=>mt(m,e,n))):mt(r.union[0],e,n))}if(!a){if(r.isNullable)return null;if(r.isOptional)return}if(r.properties){for(const[f,m]of Object.entries(r.properties)){He(m,[...n,f]);const w=a&&a[f]!==void 0?a[f]:mt(m,!((c=r.required)!=null&&c.includes(f)),[...n,f]);o[f]=w}return o}else if(a)return a;if(t.enum)return t.enum[0];if(i())throw new H("Default values cannot have more than one type.",n);if(r.types.length==0)return;const[l]=r.types;return Ar(l,t.enum)}function Cs(t,e){switch(t){case"set":return Array.isArray(e)?new Set(e):e;case"Date":case"date":case"unix-time":if(typeof e=="string"||typeof e=="number")return new Date(e);break;case"bigint":if(typeof e=="string"||typeof e=="number")return BigInt(e);break;case"symbol":if(typeof e=="string"||typeof e=="number")return Symbol(e);break}return e}function Ar(t,e){switch(t){case"string":return e&&e.length>0?e[0]:"";case"number":case"integer":return e&&e.length>0?e[0]:0;case"boolean":return!1;case"array":return[];case"object":return{};case"null":return null;case"Date":case"date":case"unix-time":return;case"bigint":return BigInt(0);case"set":return new Set;case"symbol":return Symbol();case"undefined":case"any":return;default:throw new H("Schema type or format not supported, requires explicit default value: "+t)}}function Rs(t,e=[]){return Vt(t,!1,e)}function Vt(t,e,n){var s,i;if(!t)throw new H("Schema was undefined",n);const r=ee(t,e,n),a={__types:r.types};if(r.schema.items&&typeof r.schema.items=="object"&&!Array.isArray(r.schema.items)&&(a.__items=Vt(r.schema.items,r.isOptional,n)),r.properties)for(const[o,l]of Object.entries(r.properties))He(l,[...n,o]),a[o]=Vt(r.properties[o],!((s=r.required)!=null&&s.includes(o)),[...n,o]);if(r.additionalProperties&&r.types.includes("object")){const o=ee(r.additionalProperties,r.isOptional,n);if(o.properties&&o.types.includes("object"))for(const[l]of Object.entries(o.properties))a[l]=Vt(o.properties[l],!((i=o.required)!=null&&i.includes(l)),[...n,l])}return r.isNullable&&!a.__types.includes("null")&&a.__types.push("null"),r.isOptional&&!a.__types.includes("undefined")&&a.__types.push("undefined"),a}class U extends Error{constructor(e){super(e),Object.setPrototypeOf(this,U.prototype)}}class H extends U{constructor(n,r){super((r&&r.length?`[${Array.isArray(r)?r.join("."):r}] `:"")+n);Fn(this,"path");this.path=Array.isArray(r)?r.join("."):r,Object.setPrototypeOf(this,H.prototype)}}function jr(t,e){var a;const n={};function r(s){if("_errors"in n||(n._errors=[]),!Array.isArray(n._errors))if(typeof n._errors=="string")n._errors=[n._errors];else throw new U("Form-level error was not an array.");n._errors.push(s.message)}for(const s of t){if(!s.path||s.path.length==1&&!s.path[0]){r(s);continue}const o=!/^\d$/.test(String(s.path[s.path.length-1]))&&((a=ke(e,s.path.filter(m=>/\D/.test(String(m)))))==null?void 0:a.value),l=we(n,s.path,({value:m,parent:w,key:_})=>(m===void 0&&(w[_]={}),w[_]));if(!l){r(s);continue}const{parent:c,key:f}=l;o?(f in c||(c[f]={}),"_errors"in c[f]?c[f]._errors.push(s.message):c[f]._errors=[s.message]):f in c?c[f].push(s.message):c[f]=[s.message]}return n}function Xn(t,e,n){return n?t:(Te(e,r=>{Array.isArray(r.value)&&r.set(void 0)}),Te(t,r=>{!Array.isArray(r.value)&&r.value!==void 0||de(e,[r.path],r.value)}),e)}function Ds(t){return Pr(t,[])}function Pr(t,e){return Object.entries(t).filter(([,r])=>r!==void 0).flatMap(([r,a])=>{if(Array.isArray(a)&&a.length>0){const s=e.concat([r]);return{path:ft(s),messages:a}}else return Pr(t[r],e.concat([r]))})}function Qn(t,e){return t?fe.withOptions({mergeArrays:!1},e,t):ae(e)}function $s(t,e,n,r,a){const s=n.additionalProperties&&typeof n.additionalProperties=="object"?{__types:ee(n.additionalProperties,!1,[]).types}:void 0,i=Rs(n);function o(w,_,O){const j=O.__types;if(!j.length||j.every(D=>D=="undefined"||D=="null"||D=="any"))return w;if(j.length==1&&j[0]=="array"&&!O.__items)return w;const T=["unix-time","Date","date"];for(const D of j){const ne=Ar(D,void 0),V=typeof w==typeof ne||T.includes(D)&&w instanceof Date;if(V&&(V&&w===null==(ne===null)))return w;if(O.__items)return o(w,_,O.__items)}return _===void 0&&j.includes("null")?null:_}function l(){return Te(e,m),f(),t}function c(w,_){de(t,[w],_)}function f(){var w;for(const _ of r)_.path&&m({path:_.path,value:(w=ke(e,_.path))==null?void 0:w.value})}function m(w){const _=w.path;if(!_||!_[0]||typeof _[0]=="string"&&(a!=null&&a.includes(_[0])))return;const O=ke(t,_);if(!O&&w.value!==void 0||O&&O.value===void 0)c(_,w.value);else if(O){const j=w.value,T=O.value;if(j!==void 0&&typeof T==typeof j&&T===null==(j===null))return;const D=_.filter(I=>/\D/.test(String(I))),ne=we(i,D,I=>"__items"in I.value?I.value.__items:I.value);if(!ne)throw new H("No types found for defaults",_);const V=ne.value??s;if(!V)throw new H("No default value specified for field (can be undefined, but must be explicit)",_);c(_,o(T,j,V))}}return l()}function er(t){!t.flashMessage||!mr||wn(t)&&(document.cookie=`flash=; Max-Age=0; Path=${t.flashMessage.cookiePath??"/"};`)}function wn(t){return!t.flashMessage||!mr?!1:t.syncFlashMessage}function xn(t){const e=JSON.parse(t);return e.data&&(e.data=fr(e.data)),e}function dn(t){return HTMLElement.prototype.cloneNode.call(t)}function Ls(t,e=()=>{}){const n=async({action:a,result:s,reset:i=!0,invalidateAll:o=!0})=>{s.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(t),o&&await pr()),(location.origin+location.pathname===a.origin+a.pathname||s.type==="redirect"||s.type==="error")&&$t(s)};async function r(a){var j,T,D,ne,V;if(((j=a.submitter)!=null&&j.hasAttribute("formmethod")?a.submitter.formMethod:dn(t).method)!=="post")return;a.preventDefault();const i=new URL((T=a.submitter)!=null&&T.hasAttribute("formaction")?a.submitter.formAction:dn(t).action),o=(D=a.submitter)!=null&&D.hasAttribute("formenctype")?a.submitter.formEnctype:dn(t).enctype,l=new FormData(t),c=(ne=a.submitter)==null?void 0:ne.getAttribute("name");c&&l.append(c,((V=a.submitter)==null?void 0:V.getAttribute("value"))??"");const f=new AbortController;let m=!1;const _=await e({action:i,cancel:()=>m=!0,controller:f,formData:l,formElement:t,submitter:a.submitter})??n;if(m)return;let O;try{const I=new Headers({accept:"application/json","x-sveltekit-action":"true"});o!=="multipart/form-data"&&I.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(o)?o:"application/x-www-form-urlencoded");const st=o==="multipart/form-data"?l:new URLSearchParams(l),Pt=await fetch(i,{method:"POST",headers:I,cache:"no-store",body:st,signal:f.signal});O=xn(await Pt.text()),O.type==="error"&&(O.status=Pt.status)}catch(I){if((I==null?void 0:I.name)==="AbortError")return;O={type:"error",error:I}}_({action:i,formData:l,formElement:t,update:I=>n({action:i,result:O,reset:I==null?void 0:I.reset,invalidateAll:I==null?void 0:I.invalidateAll}),result:O})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",r)}}}const Mr="noCustomValidity";async function tr(t,e){"setCustomValidity"in t&&t.setCustomValidity(""),!(Mr in t.dataset)&&Nr(t,e)}function Vs(t,e){for(const n of t.querySelectorAll("input,select,textarea,button")){if("dataset"in n&&Mr in n.dataset||!n.name)continue;const r=we(e,Re(n.name)),a=r&&typeof r.value=="object"&&"_errors"in r.value?r.value._errors:r==null?void 0:r.value;if(Nr(n,a),a)return}}function Nr(t,e){const n=e&&e.length?e.join(`
`):"";t.setCustomValidity(n),n&&t.reportValidity()}const Fs=(t,e=0)=>{const n=t.getBoundingClientRect();return n.top>=e&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},zs=(t,e=1.125,n="smooth")=>{const s=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:s,behavior:n})},Us=["checkbox","radio","range","file"];function nr(t){const e=!!t&&(t instanceof HTMLSelectElement||t instanceof HTMLInputElement&&Us.includes(t.type)),n=!!t&&t instanceof HTMLSelectElement&&t.multiple,r=!!t&&t instanceof HTMLInputElement&&t.type=="file";return{immediate:e,multiple:n,file:r}}var Q;(function(t){t[t.Idle=0]="Idle",t[t.Submitting=1]="Submitting",t[t.Delayed=2]="Delayed",t[t.Timeout=3]="Timeout"})(Q||(Q={}));const Bs=new Set;function qs(t,e,n){let r=Q.Idle,a,s;const i=Bs;function o(){l(),f(r!=Q.Delayed?Q.Submitting:Q.Delayed),a=window.setTimeout(()=>{a&&r==Q.Submitting&&f(Q.Delayed)},n.delayMs),s=window.setTimeout(()=>{s&&r==Q.Delayed&&f(Q.Timeout)},n.timeoutMs),i.add(l)}function l(){clearTimeout(a),clearTimeout(s),a=s=0,i.delete(l),f(Q.Idle)}function c(){i.forEach(T=>T()),i.clear()}function f(T){r=T,e.submitting.set(r>=Q.Submitting),e.delayed.set(r>=Q.Delayed),e.timeout.set(r>=Q.Timeout)}const m=t;function w(T){const D=T.target;n.selectErrorText&&D.select()}function _(){n.selectErrorText&&m.querySelectorAll("input").forEach(T=>{T.addEventListener("invalid",w)})}function O(){n.selectErrorText&&m.querySelectorAll("input").forEach(T=>T.removeEventListener("invalid",w))}const j=t;{_();const T=D=>{D.clearAll?c():l(),D.cancelled||setTimeout(()=>kn(j,n),1)};return Lt(()=>{O(),T({cancelled:!0})}),{submitting(){o()},completed:T,scrollToFirstError(){setTimeout(()=>kn(j,n),1)},isSubmitting:()=>r===Q.Submitting||r===Q.Delayed}}}const kn=async(t,e)=>{if(e.scrollToError=="off")return;const n=e.errorSelector;if(!n)return;await mn();let r;if(r=t.querySelector(n),!r)return;r=r.querySelector(n)??r;const a=e.stickyNavbar?document.querySelector(e.stickyNavbar):null;typeof e.scrollToError!="string"?r.scrollIntoView(e.scrollToError):Fs(r,(a==null?void 0:a.offsetHeight)??0)||zs(r,void 0,e.scrollToError);function s(o){return typeof e.autoFocusOnError=="boolean"?e.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(o)}if(!s(navigator.userAgent))return;let i;if(i=r,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(i.tagName)||(i=i.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),i)try{i.focus({preventScroll:!0}),e.selectErrorText&&i.tagName=="INPUT"&&i.select()}catch{}};function Yt(t,e,n){const r=we(t,e,({parent:a,key:s,value:i})=>(i===void 0&&(a[s]=/\D/.test(s)?{}:[]),a[s]));if(r){const a=n(r.value);r.parent[r.key]=a}return t}function Ws(t,e,n){const r=t.form,a=Re(e),s=En(r,i=>{const o=we(i,a);return o==null?void 0:o.value});return{subscribe(...i){const o=s.subscribe(...i);return()=>o()},update(i,o){r.update(l=>Yt(l,a,i),o??n)},set(i,o){r.update(l=>Yt(l,a,()=>i),o??n)}}}function Hs(t,e){const n="form"in t;if(!n&&(e==null?void 0:e.taint)!==void 0)throw new U("If options.taint is set, the whole superForm object must be used as a proxy.");return n}function Rt(t,e,n){const r=Re(e);if(Hs(t,n))return Ws(t,e,n);const a=En(t,s=>{const i=we(s,r);return i==null?void 0:i.value});return{subscribe(...s){const i=a.subscribe(...s);return()=>i()},update(s){t.update(i=>Yt(i,r,s))},set(s){t.update(i=>Yt(i,r,()=>s))}}}function Ks(t,e=[]){const n=Tn(t,e);if(!n)throw new H("No shape could be created for schema.",e);return n}function Tn(t,e){He(t,e);const n=ee(t,!1,e);if(n.array||n.union){const r=n.array||[],a=n.union||[];return r.concat(a).reduce((s,i)=>{const o=Tn(i,e);return o&&(s={...s??{},...o}),s},r.length?{}:void 0)}if(n.properties){const r={};for(const[a,s]of Object.entries(n.properties)){const i=Tn(s,[...e,a]);i&&(r[a]=i)}return r}return n.types.includes("array")||n.types.includes("object")?{}:void 0}function Sn(t){let e={};const n=Array.isArray(t);for(const[r,a]of Object.entries(t))!a||typeof a!="object"||(n?e={...e,...Sn(a)}:e[r]=Sn(a));return e}const Dt=new WeakMap,Je=new WeakMap,Zr=t=>{console.warn("Unhandled error caught by Superforms, use onError event to handle it:",t.result.error)},Ys={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:Zr,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function Js(t){return`Duplicate form id's found: "${t}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let Ir=!1;try{SUPERFORMS_LEGACY&&(Ir=!0)}catch{}let Xe=!1;try{globalThis.STORIES&&(Xe=!0)}catch{}function Gs(t,e){var Vn;let n,r=e??{},a;{if((r.legacy??Ir)&&(r.resetForm===void 0&&(r.resetForm=!1),r.taintedMessage===void 0&&(r.taintedMessage=!0)),Xe&&r.applyAction===void 0&&(r.applyAction=!1),typeof r.SPA=="string"&&(r.invalidateAll===void 0&&(r.invalidateAll=!1),r.applyAction===void 0&&(r.applyAction=!1)),a=r.validators,r={...Ys,...r},(r.SPA===!0||typeof r.SPA=="object")&&r.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!t)throw new U("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");c(t)===!1&&(t={id:r.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:t,shape:Sn(t)}),t=t;const u=t.id=r.id??t.id,d=ut(ct)??(Xe?{}:void 0);if(((Vn=r.warnings)==null?void 0:Vn.duplicateId)!==!1)if(!Dt.has(d))Dt.set(d,new Set([u]));else{const p=Dt.get(d);p!=null&&p.has(u)?console.warn(Js(u)):p==null||p.add(u)}if(Je.has(t)||Je.set(t,t),n=Je.get(t),t=ae(n),Lt(()=>{var p;Jr(),Ur(),Qr();for(const g of Object.values(oe))g.length=0;(p=Dt.get(d))==null||p.delete(u)}),r.dataType!=="json"){const p=(g,k)=>{if(!(!k||typeof k!="object")){if(Array.isArray(k))k.length>0&&p(g,k[0]);else if(!(k instanceof Date)&&!(k instanceof File)&&!(k instanceof FileList))throw new U(`Object found in form field "${g}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[g,k]of Object.entries(t.data))p(g,k)}}const s={formId:t.id,form:ae(t.data),constraints:t.constraints??{},posted:t.posted,errors:ae(t.errors),message:ae(t.message),tainted:void 0,valid:t.valid,submitting:!1,shape:t.shape},i=s,o=he(r.id??t.id);function l(u){return Object.values(u).filter(p=>c(p)!==!1)}function c(u){return!u||typeof u!="object"||!("valid"in u&&"errors"in u&&typeof u.valid=="boolean")?!1:"id"in u&&typeof u.id=="string"?u.id:!1}const f=he(t.data),m={subscribe:f.subscribe,set:(u,d={})=>{const p=ae(u);return Cn(p,d.taint??!0),f.set(p)},update:(u,d={})=>f.update(p=>{const g=u(p);return Cn(g,d.taint??!0),g})};function w(){return r.SPA===!0||typeof r.SPA=="object"}async function _(u={}){const d=u.formData??i.form;let p={},g;const k=u.adapter??r.validators;if(typeof k=="object"){if(k!=a&&!("jsonSchema"in k))throw new U('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(g=await k.validate(d),!g.success)p=jr(g.issues,k.shape??i.shape??{});else if(u.recheckValidData!==!1)return _({...u,recheckValidData:!1})}else g={success:!0,data:{}};const P={...i.form,...d,...g.success?g.data:{}};return{valid:g.success,posted:!1,errors:p,data:P,constraints:i.constraints,message:void 0,id:i.formId,shape:i.shape}}function O(u){if(!r.onChange||!u.paths.length||u.type=="blur")return;let d;const p=u.paths.map(ft);u.type&&u.paths.length==1&&u.formElement&&u.target instanceof Element?d={path:p[0],paths:p,formElement:u.formElement,target:u.target,set(g,k,P){Rt({form:m},g,P).set(k)},get(g){return ut(Rt(m,g))}}:d={paths:p,target:void 0,set(g,k,P){Rt({form:m},g,P).set(k)},get(g){return ut(Rt(m,g))}},r.onChange(d)}async function j(u,d=!1,p){u&&(r.validators=="clear"&&me.update(P=>(de(P,u.paths,void 0),P)),setTimeout(()=>O(u)));let g=!1;if(d||(r.validationMethod=="onsubmit"||r.validationMethod=="submit-only"||r.validationMethod=="onblur"&&(u==null?void 0:u.type)=="input"||r.validationMethod=="oninput"&&(u==null?void 0:u.type)=="blur")&&(g=!0),g||!u||!r.validators||r.validators=="clear"){if(u!=null&&u.paths){const P=(u==null?void 0:u.formElement)??it();P&&T(P)}return}const k=await _({adapter:p});return k.valid&&(u.immediate||u.type!="input")&&m.set(k.data,{taint:"ignore"}),await mn(),D(k.errors,u,d),k}function T(u){const d=new Map;if(r.customValidity&&u)for(const p of u.querySelectorAll("[name]")){if(typeof p.name!="string"||!p.name.length)continue;const g="validationMessage"in p?String(p.validationMessage):"";d.set(p.name,{el:p,message:g}),tr(p,void 0)}return d}async function D(u,d,p){const{type:g,immediate:k,multiple:P,paths:ue}=d,Ne=i.errors,ze={};let G=new Map;const K=d.formElement??it();K&&(G=T(K)),Te(u,F=>{if(!Array.isArray(F.value))return;const q=[...F.path];q[q.length-1]=="_errors"&&q.pop();const Ye=q.join(".");function ce(){if(de(ze,[F.path],F.value),r.customValidity&&Ae&&G.has(Ye)){const{el:Y,message:M}=G.get(Ye);M!=F.value&&(setTimeout(()=>tr(Y,F.value)),G.clear())}}if(p)return ce();const Zt=F.path[F.path.length-1]=="_errors",Ae=F.value&&ue.some(Y=>Zt?q&&Y&&q.length>0&&q[0]==Y[0]:Ye==Y.join("."));if(Ae&&r.validationMethod=="oninput"||k&&!P&&Ae)return ce();if(P){const Y=ke(ut(me),F.path.slice(0,-1));if(Y!=null&&Y.value&&typeof(Y==null?void 0:Y.value)=="object"){for(const M of Object.values(Y.value))if(Array.isArray(M))return ce()}}const ot=ke(Ne,F.path);if(ot&&ot.key in ot.parent)return ce();if(Zt){if(r.validationMethod=="oninput"||g=="blur"&&Hr(ft(F.path.slice(0,-1))))return ce()}else if(g=="blur"&&Ae)return ce()}),me.set(ze)}function ne(u,d={}){return d.keepFiles&&Te(i.form,p=>{if(!(p.parent instanceof FileList)&&(p.value instanceof File||p.value instanceof FileList)){const g=ke(u,p.path);(!g||!(g.key in g.parent))&&de(u,[p.path],p.value)}}),m.set(u,d)}function V(u,d){return u&&d&&r.resetForm&&(r.resetForm===!0||r.resetForm())}async function I(u,d){u.valid&&d&&V(u.valid,d)?st({message:u.message,posted:!0}):Nt({form:u,untaint:d,keepFiles:!0,skipFormData:r.invalidateAll=="force"}),oe.onUpdated.length&&await mn();for(const p of oe.onUpdated)p({form:u})}function st(u={}){u.newState&&(n.data={...n.data,...u.newState});const d=ae(n);d.data={...d.data,...u.data},u.id!==void 0&&(d.id=u.id),Nt({form:d,untaint:!0,message:u.message,keepFiles:!1,posted:u.posted,resetted:!0})}async function Pt(u){if(u.type=="error")throw new U(`ActionResult of type "${u.type}" cannot be passed to update function.`);if(u.type=="redirect"){V(!0,!0)&&st({posted:!0});return}if(typeof u.data!="object")throw new U("Non-object validation data returned from ActionResult.");const d=l(u.data);if(!d.length)throw new U("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const p of d)p.id===i.formId&&await I(p,u.status>=200&&u.status<300)}const Ke=he(s.message),Qt=he(s.constraints),en=he(s.posted),Pn=he(s.shape),tn=he(t.errors),me={subscribe:tn.subscribe,set(u,d){return tn.set(Xn(u,i.errors,d==null?void 0:d.force))},update(u,d){return tn.update(p=>Xn(u(p),i.errors,d==null?void 0:d.force))},clear:()=>me.set({})};let B=null;function Fr(u){var d;B&&u&&Object.keys(u).length==1&&((d=u.paths)!=null&&d.length)&&B.target&&B.target instanceof HTMLInputElement&&B.target.type.toLowerCase()=="file"?B.paths=u.paths:B=u,setTimeout(()=>{j(B)},0)}function zr(u,d,p,g,k){B===null&&(B={paths:[]}),B.type=u,B.immediate=d,B.multiple=p,B.formElement=g,B.target=k}function Mn(){return(B==null?void 0:B.paths)??[]}function Ur(){B=null}const J={defaultMessage:"Leave page? Changes that you made may not be saved.",state:he(),message:r.taintedMessage,clean:ae(t.data),forceRedirection:!1};function Nn(){return r.taintedMessage&&!i.submitting&&!J.forceRedirection&&In()}function Zn(u){if(!Nn())return;u.preventDefault(),u.returnValue="";const{taintedMessage:d}=r,g=typeof d=="function"||d===!0?J.defaultMessage:d;return(u||window.event).returnValue=g||J.defaultMessage,g}async function Br(u){if(!Nn())return;const{taintedMessage:d}=r,p=typeof d=="function";if(p&&u.cancel(),u.type==="leave")return;const g=p||d===!0?J.defaultMessage:d;let k;try{k=p?await d():window.confirm(g||J.defaultMessage)}catch{k=!1}if(k&&u.to)try{J.forceRedirection=!0,await ca(u.to.url,{...u.to.params});return}finally{J.forceRedirection=!1}else!k&&!p&&u.cancel()}function qr(){r.taintedMessage=J.message}function Wr(){return J.state}function Hr(u){if(!i.tainted)return!1;if(!u)return!!i.tainted;const d=ke(i.tainted,Re(u));return!!d&&d.key in d.parent}function In(u){if(!arguments.length)return Mt(i.tainted);if(typeof u=="boolean")return u;if(typeof u=="object")return Mt(u);if(!i.tainted||u===void 0)return!1;const d=ke(i.tainted,Re(u));return Mt(d==null?void 0:d.value)}function Mt(u){if(!u)return!1;if(typeof u=="object"){for(const d of Object.values(u))if(Mt(d))return!0}return u===!0}function Cn(u,d){if(d=="ignore")return;const p=Jn(u,i.form),g=Jn(u,J.clean).map(k=>k.join());p.length&&(d=="untaint-all"||d=="untaint-form"?J.state.set(void 0):J.state.update(k=>(k||(k={}),de(k,p,(P,ue)=>{if(!g.includes(P.join()))return;const Ne=we(u,P),ze=we(J.clean,P);return Ne&&ze&&Ne.value===ze.value?void 0:d===!0?!0:d==="untaint"?void 0:ue.value}),k))),Fr({paths:p})}function Kr(u,d){J.state.set(u),d&&(J.clean=d)}const nn=he(!1),Rn=he(!1),Dn=he(!1),$n=[J.state.subscribe(u=>s.tainted=ae(u)),m.subscribe(u=>s.form=ae(u)),me.subscribe(u=>s.errors=ae(u)),o.subscribe(u=>s.formId=u),Qt.subscribe(u=>s.constraints=u),en.subscribe(u=>s.posted=u),Ke.subscribe(u=>s.message=u),nn.subscribe(u=>s.submitting=u),Pn.subscribe(u=>s.shape=u)];function Yr(u){$n.push(u)}function Jr(){$n.forEach(u=>u())}let ie;function it(){return ie}function Gr(u){ie=document.createElement("form"),ie.method="POST",ie.action=u,Ln(ie),document.body.appendChild(ie)}function Xr(u){ie&&(ie.action=u)}function Qr(){ie!=null&&ie.parentElement&&ie.remove(),ie=void 0}const ea=En(me,u=>u?Ds(u):[]);r.taintedMessage=void 0;function Nt(u){const d=u.form,p=u.message??d.message;if((u.untaint||u.resetted)&&Kr(typeof u.untaint=="boolean"?void 0:u.untaint,d.data),u.skipFormData!==!0&&ne(d.data,{taint:"ignore",keepFiles:u.keepFiles}),Ke.set(p),u.resetted?me.update(()=>({}),{force:!0}):me.set(d.errors),o.set(d.id),en.set(u.posted??d.posted),d.constraints&&Qt.set(d.constraints),d.shape&&Pn.set(d.shape),s.valid=d.valid,r.flashMessage&&wn(r)){const g=r.flashMessage.module.getFlash(ct);p&&ut(g)===void 0&&g.set(p)}}const oe={onSubmit:r.onSubmit?[r.onSubmit]:[],onResult:r.onResult?[r.onResult]:[],onUpdate:r.onUpdate?[r.onUpdate]:[],onUpdated:r.onUpdated?[r.onUpdated]:[],onError:r.onError?[r.onError]:[]};window.addEventListener("beforeunload",Zn),Lt(()=>{window.removeEventListener("beforeunload",Zn)}),ua(Br),Yr(ct.subscribe(async u=>{Xe&&u===void 0&&(u={status:200});const d=u.status>=200&&u.status<300;if(r.applyAction&&u.form&&typeof u.form=="object"){const p=u.form;if(p.type=="error")return;for(const g of l(p)){const k=Je.has(g);g.id!==i.formId||k||(Je.set(g,g),await I(g,d))}}else if(u.data&&typeof u.data=="object")for(const p of l(u.data)){const g=Je.has(p);if(p.id!==i.formId||g)continue;r.invalidateAll==="force"&&(n.data=p.data);const k=V(p.valid,!0);Nt({form:p,untaint:d,keepFiles:!k,resetted:k})}})),typeof r.SPA=="string"&&Gr(r.SPA);function Ln(u,d){if(r.SPA!==void 0&&u.method=="get"&&(u.method="post"),typeof r.SPA=="string"?r.SPA.length&&u.action==document.location.href&&(u.action=r.SPA):ie=u,d){if(d.onError){if(r.onError==="apply")throw new U('options.onError is set to "apply", cannot add any onError events.');if(d.onError==="apply")throw new U('Cannot add "apply" as onError event in use:enhance.');oe.onError.push(d.onError)}d.onResult&&oe.onResult.push(d.onResult),d.onSubmit&&oe.onSubmit.push(d.onSubmit),d.onUpdate&&oe.onUpdate.push(d.onUpdate),d.onUpdated&&oe.onUpdated.push(d.onUpdated)}qr();let p;async function g(G){const K=nr(G.target);K.immediate&&!K.file&&await new Promise(F=>setTimeout(F,0)),p=Mn(),zr("input",K.immediate,K.multiple,u,G.target??void 0)}async function k(G){if(i.submitting||!p||Mn()!=p)return;const K=nr(G.target);K.immediate&&!K.file&&await new Promise(F=>setTimeout(F,0)),j({paths:p,immediate:K.multiple,multiple:K.multiple,type:"blur",formElement:u,target:G.target??void 0}),p=void 0}u.addEventListener("focusout",k),u.addEventListener("input",g),Lt(()=>{u.removeEventListener("focusout",k),u.removeEventListener("input",g)});const P=qs(u,{submitting:nn,delayed:Rn,timeout:Dn},r);let ue,Ne;const ze=Ls(u,async G=>{let K,F=r.validators;const q={...G,jsonData(M){if(r.dataType!=="json")throw new U("options.dataType must be set to 'json' to use jsonData.");K=M},validators(M){F=M},customRequest(M){Ne=M}},Ye=q.cancel;let ce=!1;function rn(M){var xe;const N={...M,posted:!0},R=N.valid?200:(typeof r.SPA=="boolean"||typeof r.SPA=="string"||(xe=r.SPA)==null?void 0:xe.failStatus)??400,X={form:N},re=N.valid?{type:"success",status:R,data:X}:{type:"failure",status:R,data:X};setTimeout(()=>Y({result:re}),0)}function Zt(){switch(r.clearOnSubmit){case"errors-and-message":me.clear(),Ke.set(void 0);break;case"errors":me.clear();break;case"message":Ke.set(void 0);break}}function Ae(M={resetTimers:!0}){return ce=!0,M.resetTimers&&P.isSubmitting()&&P.completed({cancelled:ce}),Ye()}if(q.cancel=Ae,P.isSubmitting()&&r.multipleSubmits=="prevent")Ae({resetTimers:!1});else{P.isSubmitting()&&r.multipleSubmits=="abort"&&ue&&ue.abort(),P.submitting(),ue=q.controller;for(const M of oe.onSubmit)await M(q)}if(ce&&r.flashMessage&&er(r),!ce){const M=!w()&&(u.noValidate||(q.submitter instanceof HTMLButtonElement||q.submitter instanceof HTMLInputElement)&&q.submitter.formNoValidate);let N;const R=async()=>await _({adapter:F});if(Zt(),M||(N=await R(),N.valid||(Ae({resetTimers:!1}),rn(N))),!ce){r.flashMessage&&(r.clearOnSubmit=="errors-and-message"||r.clearOnSubmit=="message")&&wn(r)&&r.flashMessage.module.getFlash(ct).set(void 0);const X="formData"in q?q.formData:q.data;if(p=void 0,w())N||(N=await R()),Ae({resetTimers:!1}),rn(N);else if(r.dataType==="json"){N||(N=await R());const re=ae(K??N.data);Te(re,W=>{if(W.value instanceof File){const z="__superform_file_"+ft(W.path);return X.append(z,W.value),W.set(void 0)}else if(Array.isArray(W.value)&&W.value.length&&W.value.every(z=>z instanceof File)){const z="__superform_files_"+ft(W.path);for(const le of W.value)X.append(z,le);return W.set(void 0)}}),Object.keys(re).forEach(W=>{typeof X.get(W)=="string"&&X.delete(W)});const xe=ot(Oa(re),r.jsonChunkSize??5e5);for(const W of xe)X.append("__superform_json",W)}if(!X.has("__superform_id")){const re=i.formId;re!==void 0&&X.set("__superform_id",re)}typeof r.SPA=="string"&&Xr(r.SPA)}}function ot(M,N){const R=Math.ceil(M.length/N),X=new Array(R);for(let re=0,xe=0;re<R;++re,xe+=N)X[re]=M.substring(xe,xe+N);return X}async function Y(M){var W;let N=!1;ue=null;let R="type"in M.result&&"status"in M.result?M.result:{type:"error",status:parseInt(String(M.result.status))||500,error:M.result.error instanceof Error?M.result.error:M.result};const X=()=>N=!0,re={result:R,formEl:u,formElement:u,cancel:X},xe=Xe||!w()?()=>{}:Bn.subscribe(z=>{var le,Ze;!z||((le=z.from)==null?void 0:le.route.id)===((Ze=z.to)==null?void 0:Ze.route.id)||X()});for(const z of oe.onResult)await z(re);if(R=re.result,!N){if((R.type==="success"||R.type=="failure")&&R.data){const z=l(R.data);if(!z.length)throw new U("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const le of z){if(le.id!==i.formId)continue;const Ze={form:le,formEl:u,formElement:u,cancel:()=>N=!0,result:R};for(const an of oe.onUpdate)await an(Ze);R=Ze.result,N||(r.customValidity&&Vs(u,Ze.form.errors),V(Ze.form.valid,R.type=="success")&&Ze.formElement.querySelectorAll('input[type="file"]').forEach(an=>an.value=""))}}if(!N){if(R.type!=="error")R.type==="success"&&r.invalidateAll&&await pr(),r.applyAction?await $t(R):await Pt(R);else{if(r.applyAction)if(r.onError=="apply")await $t(R);else{const z={type:"failure",status:Math.floor(R.status||500),data:R};await $t(z)}if(r.onError!=="apply"){const z={result:R,message:Ke};for(const le of oe.onError)le!=="apply"&&(le!=Zr||!((W=r.flashMessage)!=null&&W.onError))&&await le(z)}}r.flashMessage&&R.type=="error"&&r.flashMessage.onError&&await r.flashMessage.onError({result:R,flashMessage:r.flashMessage.module.getFlash(ct)})}}if(N&&r.flashMessage&&er(r),N||R.type!="redirect")P.completed({cancelled:N});else if(Xe)P.completed({cancelled:N,clearAll:!0});else{const z=Bn.subscribe(le=>{le||(setTimeout(()=>{try{z&&z()}catch{}}),P.isSubmitting()&&P.completed({cancelled:N,clearAll:!0}))})}xe()}if(Ne){ce||Ye();const M=await Ne(G);let N;M instanceof Response?N=xn(await M.text()):M instanceof XMLHttpRequest?N=xn(M.responseText):N=M,N.type==="error"&&(N.status=M.status),Y({result:N})}return Y});return{destroy:()=>{for(const[G,K]of Object.entries(oe))oe[G]=K.filter(F=>F===r[G]);ze.destroy()}}}function ta(u){const d=[];if(Te(u,g=>{if(g.value instanceof File)return d.push(g.path),"skip";if(Array.isArray(g.value)&&g.value.length&&g.value.every(k=>k instanceof File))return d.push(g.path),"skip"}),!d.length)return{data:u,paths:d};const p=ae(u);return de(p,d,g=>{var k;return(k=ke(n.data,g))==null?void 0:k.value}),{data:p,paths:d}}return{form:m,formId:o,errors:me,message:Ke,constraints:Qt,tainted:Wr(),submitting:sn(nn),delayed:sn(Rn),timeout:sn(Dn),options:r,capture(){const{data:u,paths:d}=ta(i.form);let p=i.tainted;return d.length&&(p=ae(p)??{},de(p,d,!1)),{valid:i.valid,posted:i.posted,errors:i.errors,data:u,constraints:i.constraints,message:i.message,id:i.formId,tainted:p,shape:i.shape}},restore:u=>{Nt({form:u,untaint:u.tainted??!0})},async validate(u,d={}){if(!r.validators)throw new U("options.validators must be set to use the validate method.");d.update===void 0&&(d.update=!0),d.taint===void 0&&(d.taint=!1),typeof d.errors=="string"&&(d.errors=[d.errors]);let p;const g=Re(u);"value"in d?d.update===!0||d.update==="value"?(m.update(ue=>(de(ue,[g],d.value),ue),{taint:d.taint}),p=i.form):(p=ae(i.form),de(p,[g],d.value)):p=i.form;const k=await _({formData:p}),P=ke(k.errors,g);return P&&P.value&&d.errors&&(P.value=d.errors),(d.update===!0||d.update=="errors")&&me.update(ue=>(de(ue,[g],P==null?void 0:P.value),ue)),P==null?void 0:P.value},async validateForm(u={}){if(!r.validators&&!u.schema)throw new U("options.validators or the schema option must be set to use the validateForm method.");const d=u.update?await j({paths:[]},!0,u.schema):_({adapter:u.schema}),p=it();return u.update&&p&&setTimeout(()=>{p&&kn(p,{...r,scrollToError:u.focusOnError===!1?"off":r.scrollToError})},1),d||_({adapter:u.schema})},allErrors:ea,posted:en,reset(u){return st({message:u!=null&&u.keepMessage?i.message:void 0,data:u==null?void 0:u.data,id:u==null?void 0:u.id,newState:u==null?void 0:u.newState})},submit(u){const d=it()?it():u&&u instanceof HTMLElement?u.closest("form"):void 0;if(!d)throw new U("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!d.requestSubmit)return d.submit();const p=u&&(u instanceof HTMLButtonElement&&u.type=="submit"||u instanceof HTMLInputElement&&["submit","image"].includes(u.type));d.requestSubmit(p?u:void 0)},isTainted:In,enhance:Ln}}function Xs(t){return Ft(ee(t,!1,[]),[])}function fn(...t){const e=t.filter(n=>!!n);if(e.length)return e.length==1?e[0]:fe(...e)}function Ft(t,e){var r;if(!t)return;let n;if(t.union&&t.union.length){const a=t.union.map(i=>ee(i,t.isOptional,e)),s=a.map(i=>Ft(i,e));n=fn(n,...s),n&&(t.isNullable||t.isOptional||a.some(i=>(i==null?void 0:i.isNullable)||(i==null?void 0:i.isOptional)))&&delete n.required}if(t.array&&(n=fn(n,...t.array.map(a=>Ft(ee(a,t.isOptional,e),e)))),t.properties){const a={};for(const[s,i]of Object.entries(t.properties)){const o=ee(i,!((r=t.required)!=null&&r.includes(s))||i.default!==void 0,[s]),l=Ft(o,[...e,s]);typeof l=="object"&&Object.values(l).length>0&&(a[s]=l)}n=fn(n,a)}return n??Qs(t)}function Qs(t){const e={},n=t.schema,r=n.type,a=n.format;if(r=="integer"&&a=="unix-time"){const s=n;s.minimum!==void 0&&(e.min=new Date(s.minimum).toISOString()),s.maximum!==void 0&&(e.max=new Date(s.maximum).toISOString())}else if(r=="string"){const s=n,i=[s.pattern,...s.allOf?s.allOf.map(o=>typeof o=="boolean"?void 0:o.pattern):[]].filter(o=>o!==void 0);i.length>0&&(e.pattern=i[0]),s.minLength!==void 0&&(e.minlength=s.minLength),s.maxLength!==void 0&&(e.maxlength=s.maxLength)}else if(r=="number"||r=="integer"){const s=n;s.minimum!==void 0?e.min=s.minimum:s.exclusiveMinimum!==void 0&&(e.min=s.exclusiveMinimum+(r=="integer"?1:Number.MIN_VALUE)),s.maximum!==void 0?e.max=s.maximum:s.exclusiveMaximum!==void 0&&(e.max=s.exclusiveMaximum-(r=="integer"?1:Number.MIN_VALUE)),s.multipleOf!==void 0&&(e.step=s.multipleOf)}else if(r=="array"){const s=n;s.minItems!==void 0&&(e.min=s.minItems),s.maxItems!==void 0&&(e.max=s.maxItems)}return!t.isNullable&&!t.isOptional&&(e.required=!0),Object.keys(e).length>0?e:void 0}function ei(t){return ti(On(ee(t,!1,[]),0,[]))}function On(t,e,n){var i;if(!t)return"";function r(){return"  ".repeat(e)}function a(o){return o.map(l=>On(ee(l,(t==null?void 0:t.isOptional)??!1,n),e+1,n)).filter(l=>l).join("|")}function s(){const o=[];return t!=null&&t.isNullable&&o.push("null"),t!=null&&t.isOptional&&o.push("undefined"),o.length?"|"+o.join("|"):""}if(t.union)return`Union {
  `+r()+a(t.union)+`
`+r()+"}"+s();if(t.properties){const o=[];for(const[l,c]of Object.entries(t.properties)){const f=ee(c,!((i=t.required)!=null&&i.includes(l))||c.default!==void 0,[l]);o.push(l+": "+On(f,e+1,n))}return`Object {
  `+r()+o.join(`,
  `)+`
`+r()+"}"+s()}return t.array?"Array["+a(t.array)+"]"+s():t.types.join("|")+s()}function ti(t){let e=0;for(let n=0,r=t.length;n<r;n++){const a=t.charCodeAt(n);e=(e<<5)-e+a,e|=0}return e<0&&(e=e>>>0),e.toString(36)}function ni(t,e){if(!t||!("superFormValidationLibrary"in t))throw new U('Superforms v2 requires a validation adapter for the schema. Import one of your choice from "sveltekit-superforms/adapters" and wrap the schema with it.');return e||(e=t.jsonSchema),{...t,constraints:t.constraints??Xs(e),defaults:t.defaults??Er(e),shape:Ks(e),id:ei(e)}}let Cr=!1;try{SUPERFORMS_LEGACY&&(Cr=!0)}catch{}const rr='FormData parsing failed: Unions are only supported when the dataType option for superForm is set to "json".';async function ri(t,e,n){let r;return t instanceof FormData?r=jn(t,e,n):t instanceof URL||t instanceof URLSearchParams?r=ai(t,e,n):t instanceof Request?r=await ar(t,e,n):t&&typeof t=="object"&&"request"in t&&t.request instanceof Request?r=await ar(t.request,e,n):r={id:void 0,data:t,posted:!1},r}async function ar(t,e,n){let r;try{r=await t.formData()}catch(a){if(a instanceof TypeError&&a.message.includes("already been consumed"))throw a;return{id:void 0,data:void 0,posted:!1}}return jn(r,e,n)}function ai(t,e,n){t instanceof URL&&(t=t.searchParams);const r=new FormData;for(const[s,i]of t.entries())r.append(s,i);const a=jn(r,e,n);return a.posted=!1,a}function jn(t,e,n){var i;function r(){if(t.has("__superform_json"))try{const o=fr(t.getAll("__superform_json").join("")??"");if(typeof o=="object"){const l=Array.from(t.keys());for(const c of l.filter(f=>f.startsWith("__superform_file_"))){const f=Re(c.substring(17));de(o,[f],t.get(c))}for(const c of l.filter(f=>f.startsWith("__superform_files_"))){const f=Re(c.substring(18)),m=t.getAll(c);de(o,[f],Array.from(m))}return o}}catch{}return null}const a=r(),s=(i=t.get("__superform_id"))==null?void 0:i.toString();return a?{id:s,data:a,posted:!0}:{id:s,data:si(t,e,n),posted:!0}}function si(t,e,n){var o,l,c,f;const r={};let a;if(n!=null&&n.strict)a=new Set([...t.keys()].filter(m=>!m.startsWith("__superform_")));else{let m=[];if(e.anyOf){const w=ee(e,!1,[]);if((o=w.union)!=null&&o.some(_=>_.type!=="object"))throw new H("All form types must be an object if schema is a union.");m=((l=w.union)==null?void 0:l.flatMap(_=>Object.keys(_.properties??{})))??[]}a=new Set([...m,...Object.keys(e.properties??{}),...e.additionalProperties?t.keys():[]].filter(w=>!w.startsWith("__superform_")))}function s(m,w,_){if(n!=null&&n.preprocessed&&n.preprocessed.includes(m))return w;if(w&&typeof w!="string")return(Cr?(n==null?void 0:n.allowFiles)===!0:(n==null?void 0:n.allowFiles)!==!1)?w.size?w:_.isNullable?null:void 0:void 0;if(_.types.length>1)throw new H(rr,m);const[O]=_.types;return ii(m,w,O??"any",_)}const i=typeof e.additionalProperties=="object"?e.additionalProperties:{type:"string"};for(const m of a){const w=e.properties?e.properties[m]:i;He(w,m);const _=ee(w??i,!((c=e.required)!=null&&c.includes(m)),[m]);if(!_||!_.types.includes("boolean")&&!e.additionalProperties&&!t.has(m))continue;const O=t.getAll(m);if(_.union&&_.union.length>1)throw new H(rr,m);if(_.types.includes("array")||_.types.includes("set")){const j=w.items??(((f=_.union)==null?void 0:f.length)==1?_.union[0]:void 0);if(!j||typeof j=="boolean"||Array.isArray(j)&&j.length!=1)throw new H('Arrays must have a single "items" property that defines its type.',m);const T=Array.isArray(j)?j[0]:j;He(T,m);const D=ee(T,_.isOptional,[m]);if(!D)continue;const ne=O.length&&O.some(I=>I&&typeof I!="string"),V=O.map(I=>s(m,I,D));ne&&V.every(I=>!I)&&(V.length=0),r[m]=_.types.includes("set")?new Set(V):V}else r[m]=s(m,O[O.length-1],_)}return r}function ii(t,e,n,r){if(!e){if(n=="boolean"&&r.isOptional&&r.schema.default===!0)return!1;const s=Er(r.schema,r.isOptional,[t]);if(r.schema.enum&&s!==null&&s!==void 0)return e;if(s!==void 0)return s;if(r.isNullable)return null;if(r.isOptional)return}function a(){throw new H(n[0].toUpperCase()+n.slice(1)+' type found. Set the dataType option to "json" and add use:enhance on the client to use nested data structures. More information: https://superforms.rocks/concepts/nested-data',t)}switch(n){case"string":case"any":return e;case"integer":return parseInt(e??"",10);case"number":return parseFloat(e??"");case"boolean":return(!!(e!="false"&&e)).valueOf();case"unix-time":{const s=new Date(e??"");return isNaN(s)?void 0:s}case"bigint":return BigInt(e??".");case"symbol":return Symbol(String(e));case"set":case"array":case"object":return a();default:throw new U("Unsupported schema type for FormData: "+n)}}async function oi(t,e,n){t&&"superFormValidationLibrary"in t&&(n=e,e=t,t=void 0);const r=e,a=(n==null?void 0:n.defaults)??r.defaults,s=r.jsonSchema,i=await ri(t,s,n),o=(n==null?void 0:n.errors)??(n!=null&&n.strict?!0:!!i.data),l=n!=null&&n.strict?i.data??{}:Qn(i.data,a);let c;i.data||o?c=await r.validate(l):c={success:!1,issues:[]};const f=c.success,m=f||!o?{}:jr(c.issues,r.shape),w=f?c.data:$s(n!=null&&n.strict?Qn(l,a):l,a,s,c.issues,n==null?void 0:n.preprocessed);let _;if(s.additionalProperties===!1){_={};for(const j of Object.keys(s.properties??{}))j in w&&(_[j]=w[j])}else _=w;const O={id:i.id??(n==null?void 0:n.id)??r.id,valid:f,posted:i.posted,errors:m,data:_};return i.posted||(O.constraints=r.constraints,Object.keys(r.shape).length&&(O.shape=r.shape)),O}function ui(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xt(t){return typeof t!="object"&&typeof t!="function"||t===null}function Fe(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}Fe.prototype.has=function(e){var n=Xt(e)?this.primitiveKeys.get(e):e;return n?this.childBranches.has(n):!1};Fe.prototype.get=function(e){var n=Xt(e)?this.primitiveKeys.get(e):e;return n?this.childBranches.get(n):void 0};Fe.prototype.resolveBranch=function(e){if(this.has(e))return this.get(e);var n=new Fe,r=this.createKey(e);return this.childBranches.set(r,n),n};Fe.prototype.setValue=function(e){return this.hasValue=!0,this.value=e};Fe.prototype.createKey=function(e){if(Xt(e)){var n={};return this.primitiveKeys.set(e,n),n}return e};Fe.prototype.clear=function(){if(arguments.length===0)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(arguments.length===1){var e=arguments[0];if(Xt(e)){var n=this.primitiveKeys.get(e);n&&(this.childBranches.delete(n),this.primitiveKeys.delete(e))}else this.childBranches.delete(e)}else{var r=arguments[0];if(this.has(r)){var a=this.get(r);a.clear.apply(a,Array.prototype.slice.call(arguments,1))}}};var ci=function(e){var n=new Fe;function r(){var a=Array.prototype.slice.call(arguments),s=a.reduce(function(l,c){return l.resolveBranch(c)},n);if(s.hasValue)return s.value;var i=e.apply(null,a);return s.setValue(i)}return r.clear=n.clear.bind(n),r},li=ci;const di=ui(li),fi=di,pi=Symbol("Let zodToJsonSchema decide on which parser to use"),sr={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},mi=t=>typeof t=="string"?{...sr,name:t}:{...sr,...t},hi=t=>{const e=mi(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Rr(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function $(t,e,n,r,a){t[e]=n,Rr(t,e,r,a)}function yi(){return{}}function gi(t,e){var r,a;const n={type:"array"};return((a=(r=t.type)==null?void 0:r._def)==null?void 0:a.typeName)!==y.ZodAny&&(n.items=C(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&$(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&$(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&($(n,"minItems",t.exactLength.value,t.exactLength.message,e),$(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function vi(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?$(n,"minimum",r.value,r.message,e):$(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),$(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?$(n,"maximum",r.value,r.message,e):$(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),$(n,"maximum",r.value,r.message,e));break;case"multipleOf":$(n,"multipleOf",r.value,r.message,e);break}return n}function _i(){return{type:"boolean"}}function bi(t,e){return C(t.type._def,e)}const wi=(t,e)=>C(t.innerType._def,e);function Dr(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>Dr(t,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return xi(t,e)}}const xi=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":$(n,"minimum",r.value,r.message,e);break;case"max":$(n,"maximum",r.value,r.message,e);break}return n};function ki(t,e){return{...C(t.innerType._def,e),default:t.defaultValue()}}function Ti(t,e){return e.effectStrategy==="input"?C(t.schema._def,e):{}}function Si(t){return{type:"string",enum:t.values}}const Oi=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Ei(t,e){const n=[C(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),C(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(s=>{if(Oi(s))a.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let i=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;i=l}else r=void 0;a.push(i)}}),a.length?{allOf:a,...r}:void 0}function Ai(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let pn;const Ue={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(pn===void 0&&(pn=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pn),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function $r(t,e){const n={type:"string"};function r(a){return e.patternStrategy==="escape"?ji(a):a}if(t.checks)for(const a of t.checks)switch(a.kind){case"min":$(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e);break;case"max":$(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ye(n,"email",a.message,e);break;case"format:idn-email":ye(n,"idn-email",a.message,e);break;case"pattern:zod":ge(n,Ue.email,a.message,e);break}break;case"url":ye(n,"uri",a.message,e);break;case"uuid":ye(n,"uuid",a.message,e);break;case"regex":ge(n,a.regex,a.message,e);break;case"cuid":ge(n,Ue.cuid,a.message,e);break;case"cuid2":ge(n,Ue.cuid2,a.message,e);break;case"startsWith":ge(n,RegExp(`^${r(a.value)}`),a.message,e);break;case"endsWith":ge(n,RegExp(`${r(a.value)}$`),a.message,e);break;case"datetime":ye(n,"date-time",a.message,e);break;case"date":ye(n,"date",a.message,e);break;case"time":ye(n,"time",a.message,e);break;case"duration":ye(n,"duration",a.message,e);break;case"length":$(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e),$(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"includes":{ge(n,RegExp(r(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&ye(n,"ipv4",a.message,e),a.version!=="v4"&&ye(n,"ipv6",a.message,e);break}case"emoji":ge(n,Ue.emoji,a.message,e);break;case"ulid":{ge(n,Ue.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{ye(n,"binary",a.message,e);break}case"contentEncoding:base64":{$(n,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{ge(n,Ue.base64,a.message,e);break}}break}case"nanoid":ge(n,Ue.nanoid,a.message,e)}return n}const ji=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),ye=(t,e,n,r)=>{var a;t.format||(a=t.anyOf)!=null&&a.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):$(t,"format",e,n,r)},ge=(t,e,n,r)=>{var a;t.pattern||(a=t.allOf)!=null&&a.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:ir(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):$(t,"pattern",ir(e,r),n,r)},ir=(t,e)=>{var c;const n=typeof t=="function"?t():t;if(!e.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},a=r.i?n.source.toLowerCase():n.source;let s="",i=!1,o=!1,l=!1;for(let f=0;f<a.length;f++){if(i){s+=a[f],i=!1;continue}if(r.i){if(o){if(a[f].match(/[a-z]/)){l?(s+=a[f],s+=`${a[f-2]}-${a[f]}`.toUpperCase(),l=!1):a[f+1]==="-"&&((c=a[f+2])!=null&&c.match(/[a-z]/))?(s+=a[f],l=!0):s+=`${a[f]}${a[f].toUpperCase()}`;continue}}else if(a[f].match(/[a-z]/)){s+=`[${a[f]}${a[f].toUpperCase()}]`;continue}}if(r.m){if(a[f]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[f]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[f]==="."){s+=o?`${a[f]}\r
`:`[${a[f]}\r
]`;continue}s+=a[f],a[f]==="\\"?i=!0:o&&a[f]==="]"?o=!1:!o&&a[f]==="["&&(o=!0)}try{const f=new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function Lr(t,e){var r,a,s,i;if(e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===y.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((o,l)=>({...o,[l]:C(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:C(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((a=t.keyType)==null?void 0:a._def.typeName)===y.ZodString&&((s=t.keyType._def.checks)!=null&&s.length)){const o=Object.entries($r(t.keyType._def,e)).reduce((l,[c,f])=>c==="type"?l:{...l,[c]:f},{});return{...n,propertyNames:o}}else if(((i=t.keyType)==null?void 0:i._def.typeName)===y.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function Pi(t,e){if(e.mapStrategy==="record")return Lr(t,e);const n=C(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=C(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Mi(t){const e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function Ni(){return{not:{}}}function Zi(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Jt={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ii(t,e){if(e.target==="openApi3")return or(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Jt&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const i=Jt[s._def.typeName];return i&&!a.includes(i)?[...a,i]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const i=typeof s._def.value;switch(i){case"string":case"number":case"boolean":return[...a,i];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,i,o)=>o.indexOf(s)===i);return{type:a.length>1?a:a[0],enum:n.reduce((s,i)=>s.includes(i._def.value)?s:[...s,i._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return or(t,e)}const or=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,a)=>C(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Ci(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Jt[t.innerType._def.typeName],nullable:!0}:{type:[Jt[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=C(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=C(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Ri(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Rr(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?$(n,"minimum",r.value,r.message,e):$(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),$(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?$(n,"maximum",r.value,r.message,e):$(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),$(n,"maximum",r.value,r.message,e));break;case"multipleOf":$(n,"multipleOf",r.value,r.message,e);break}return n}function Di(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":C(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":C(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function $i(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[a,s])=>{if(s===void 0||s._def===void 0)return r;const i=C(s._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return i===void 0?r:{properties:{...r.properties,[a]:i},required:s.isOptional()?r.required:[...r.required,a]}},{properties:{},required:[]}),additionalProperties:Di(t,e)};return n.required.length||delete n.required,n}const Li=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return C(t.innerType._def,e);const n=C(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},Vi=(t,e)=>{if(e.pipeStrategy==="input")return C(t.in._def,e);if(e.pipeStrategy==="output")return C(t.out._def,e);const n=C(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=C(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function Fi(t,e){return C(t.type._def,e)}function zi(t,e){const r={type:"array",uniqueItems:!0,items:C(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&$(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&$(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Ui(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>C(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:C(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>C(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Bi(){return{not:{}}}function qi(){return{}}const Wi=(t,e)=>C(t.innerType._def,e);function C(t,e,n=!1){var i;const r=e.seen.get(t);if(e.override){const o=(i=e.override)==null?void 0:i.call(e,t,e,r,n);if(o!==pi)return o}if(r&&!n){const o=Hi(r,e);if(o!==void 0)return o}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const s=Yi(t,t.typeName,e);return s&&Ji(t,e,s),a.jsonSchema=s,s}const Hi=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Ki(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},Ki=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},Yi=(t,e,n)=>{switch(e){case y.ZodString:return $r(t,n);case y.ZodNumber:return Ri(t,n);case y.ZodObject:return $i(t,n);case y.ZodBigInt:return vi(t,n);case y.ZodBoolean:return _i();case y.ZodDate:return Dr(t,n);case y.ZodUndefined:return Bi();case y.ZodNull:return Zi(n);case y.ZodArray:return gi(t,n);case y.ZodUnion:case y.ZodDiscriminatedUnion:return Ii(t,n);case y.ZodIntersection:return Ei(t,n);case y.ZodTuple:return Ui(t,n);case y.ZodRecord:return Lr(t,n);case y.ZodLiteral:return Ai(t,n);case y.ZodEnum:return Si(t);case y.ZodNativeEnum:return Mi(t);case y.ZodNullable:return Ci(t,n);case y.ZodOptional:return Li(t,n);case y.ZodMap:return Pi(t,n);case y.ZodSet:return zi(t,n);case y.ZodLazy:return C(t.getter()._def,n);case y.ZodPromise:return Fi(t,n);case y.ZodNaN:case y.ZodNever:return Ni();case y.ZodEffects:return Ti(t,n);case y.ZodAny:return yi();case y.ZodUnknown:return qi();case y.ZodDefault:return ki(t,n);case y.ZodBranded:return bi(t,n);case y.ZodReadonly:return Wi(t,n);case y.ZodCatch:return wi(t,n);case y.ZodPipeline:return Vi(t,n);case y.ZodFunction:case y.ZodVoid:case y.ZodSymbol:return;default:return(r=>{})()}},Ji=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Gi=(t,e)=>{const n=hi(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,f])=>({...l,[c]:C(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0)??{}}),{}):void 0,a=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=C(t._def,a===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(s.title=i);const o=a===void 0?r?{...s,[n.definitionPath]:r}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:s}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o},ur={dateStrategy:"integer",pipeStrategy:"output",$refStrategy:"none"},Xi=(...t)=>(t[1]=typeof t[1]=="object"?{...ur,...t[1]}:ur,Gi(...t));async function Qi(t,e,n){const r=await t.safeParseAsync(e,{errorMap:n});return r.success?{data:r.data,success:!0}:{issues:r.error.issues.map(({message:a,path:s})=>({message:a,path:s})),success:!1}}function eo(t,e){return ni({superFormValidationLibrary:"zod",validate:async n=>Qi(t,n,e==null?void 0:e.errorMap),jsonSchema:(e==null?void 0:e.jsonSchema)??Xi(t,e==null?void 0:e.config),defaults:e==null?void 0:e.defaults})}const Vr=fi(eo),to=!1,no=async t=>{const n=await(await t.fetch("/api/posts")).json(),r=await oi(Vr(Sr));return{posts:n,form:r}},_o=Object.freeze(Object.defineProperty({__proto__:null,load:no,prerender:to},Symbol.toStringTag,{value:"Module"}));var ro=cr('<a class="card card-hover block overflow-hidden border border-surface-200-800 divide-surface-200-800 preset-filled-surface-100-900 active:scale-[1.01]"><header class="card-header"><img class="aspect-[21/9] w-full object-fill" alt="banner"></header> <article class="space-y-4 p-4"><div><h2 class="h2"> </h2></div> <p class="line-clamp-5 opacity-60"> </p></article> <footer class="card-footer flex items-center justify-between gap-4 p-4"><small class="opacity-60"> </small> <button type="button" class="btn preset-filled"><span>Read More</span> <span>&rarr;</span></button></footer></a>'),ao=cr('<form action="https://buttondown.com/api/emails/embed-subscribe/deancochran" method="post" target="popupwindow" class="embeddable-buttondown-form"><label for="bd-email" class="label"><span class="label-text px-1">Subscribe to my newsletter</span> <div class="flex flex-row items-center justify-center gap-4 align-middle"><input name="bd-email" class="input" type="email" placeholder="janedoe@example.com"> <button type="submit" class="btn preset-filled">Subscribe</button></div></label></form> <br> <div class="flex flex-col items-center justify-center gap-4"></div>',1);function bo(t,e){da(e,!1);let n=_a(e,"data",8);const r="https://images.unsplash.com/photo-1463171515643-952cee54d42a?q=80&w=450&h=190&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D";Gs(n().form,{applyAction:!0,invalidateAll:!0,resetForm:!0,validators:Vr(Sr),delayMs:0,timeoutMs:5e3}),va();var a=ao(),s=fa(a),i=It(s,4);ha(i,5,()=>n().posts,ya,(o,l)=>{var c=ro(),f=Ie(c),m=Ie(f);qn(m,"src",r),je(f);var w=It(f,2),_=Ie(w),O=Ie(_),j=Ie(O);je(O),je(_);var T=It(_,2),D=Ie(T);je(T),je(w);var ne=It(w,2),V=Ie(ne),I=Ie(V);Un(()=>on(I,new Date(Ct(l).date).toDateString())),je(V),ma(2),je(ne),je(c),Un(()=>{qn(c,"href",Ct(l).relativePath),on(j,Ct(l).title),on(D,Ct(l).description)}),zn(o,c)}),je(i),ga("submit",s,ba(()=>{window.open("https://buttondown.com/deancochran","popupwindow")})),zn(t,a),pa()}export{bo as component,_o as universal};
